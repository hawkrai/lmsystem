@model LMPlatform.UI.ViewModels.BTSViewModels.AssignUserViewModel

<script src="~/Scripts/application/BTS/projectPart.js" type="text/javascript"></script>

<div id="assignStudentForm">
    @using (Html.BeginForm("SaveProjectUser", "BTS", FormMethod.Post))
    {
        <div>
            @Html.ValidationSummary("Ошибка!", new { @class = "alert alert-dismissable alert-danger" })
        </div>
    
        @Html.AntiForgeryToken()
        
        @Html.HiddenFor(e => e.Id)

        <div>
            @Html.LabelFor(e => e.GroupId, new { @class = "control-label" })
            @Html.DropDownListFor(e => e.GroupId, Model.GetGroups(), new { @class = "form-control", @id = "groups" })
        </div>
            
        <div>
            @Html.LabelFor(e => e.UserId, new { @class = "control-label" })
            @Html.DropDownListFor(e => e.UserId, Model.GetStudents(Model.GroupId), new { @class = "form-control", @id = "students" })
        </div>
        <div>
            @Html.LabelFor(e => e.RoleId, new { @class = "control-label" })
            @Html.DropDownListFor(e => e.RoleId, Model.GetRoles(), new { @class = "form-control" })
        </div>
    }

</div>
<script type="text/javascript">
    $('.modal-dialog').width('540px');
    $('#assignUserForm a').tooltip(
    {
        placement: "right",
    });

    //shared.initPlugins();
    //setTimeout(function () {
    //    $("#saveButton").unbind();
    //    $('#saveButton').click(function () {
    //        debugger;
    //        $('div.active').children().children().submit();
    //    });
    //}, 500);

</script>
